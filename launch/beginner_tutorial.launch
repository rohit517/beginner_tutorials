<launch>
  <arg name="frequency" default = "10" /> 

  <arg 
    name="record" 
    default = "false"
  />

  <env
    name="ROSCONSOLE_CONFIG_FILE"
    value="$(find beginner_tutorials)/config/launch_loggerlevel.conf"
  />

  <node
    pkg = "beginner_tutorials"
    name = "talker_node"
    type = "talker"
    output = "screen"
    args="$(arg frequency)"
  />

  <node
    pkg = "beginner_tutorials"
    name = "listener_node"
    type = "listener"
    output = "screen"
    launch-prefix="gnome-terminal --command"
  />

  <node
    pkg="rosbag"
    name="record"
    type="record"
    args="-a -O $(find beginner_tutorials)/results/talker.bag"
    if = "$(arg record)"
  />

</launch>
